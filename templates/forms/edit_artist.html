{% extends 'layouts/layout.html' %}
{% block title %}Edit your profile{% endblock %}
{% block content %}
<div class="page-content-wrap">

  <div class="page-content-container">
    <h4>
      Artist: {{ artist.name }}
    </h4>

    <h4>
      Country: {{ artist.country }}
    </h4>

    <meta id="artist-id" data-id="{{ artist.id }}">

    <div class="form-wrapper">
      <form method="post" class="form" action="{{ url_for('edit_artist_details', artist_id=artist.id) }}">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
        <div class="form-group">
          <label for="soundcloud-url-input"><h4>Soundcloud URL </h4></label>
          <input name="soundcloud_url" type="url" id="soundcloud-url-input" size="30" value="https://soundcloud.com/{{ artist.soundcloud_url }}"/>
        </div>
        <input type="submit" id="edit-sc-url-btn" value="Update Soundcloud URL">
      </form>
    </div>

    <div class="form-wrapper">
      <form method="post" class="form" onsubmit="return false">

        <div class="form-group">

          <div class="form-group">
            <label for="artist-picture-input"><h4>Artist Picture</h4></label>
            <input type="file" id="artist-picture-input" accept="image/png, image/jpg, image/jpeg">
            <input type="hidden" id="csrf_token" value="{{ csrf_token() }}" />

          </div>

        </div>
        <div class="display-picture">
        {% if artist.artist_picture is none %}
          <img id="preview" src="/static/img/musicakes.png" />
        {% else %}
          <img src="{{ artist.artist_picture }}" />
        {% endif %}
      </div>
      <br>
        <input type="button" id="edit-artist-btn" value="Update artist picture">
      </form>
    </div>
  </div>

</div>

<script type="text/javascript" src="{{ url_for('static', filename='js/libs/jquery-3.5.1.min.js') }}"></script>
<script type="text/javascript">
  window.appConfig = {
    artist_id: $('#artist-id').data(),
  }
</script>
<script type="text/javascript" src="{{ url_for('static', filename='js/edit_artist.js') }}"></script>

{% endblock %}